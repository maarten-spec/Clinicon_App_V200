{
  "version": 3,
  "sources": ["../../../worker/index.js", "../../../../../../AppData/Roaming/npm/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../bundle-RZ33OJ/middleware-insertion-facade.js", "../../../../../../AppData/Roaming/npm/node_modules/wrangler/templates/middleware/common.ts", "../bundle-RZ33OJ/middleware-loader.entry.ts"],
  "sourceRoot": "C:\\Users\\Maart\\OneDrive\\Clinicon_App_V200\\GFO\\.wrangler\\tmp\\dev-5mCEpt",
  "sourcesContent": ["/**\n * Clinicon Stellenplan Worker (D1)\n * Routes:\n *   GET  /api/stellenplan?year=YYYY\n *   POST /api/stellenplan\n *   GET  /api/stellenplan/summary?year=YYYY\n */\n\nconst MONTH_COUNT = 12;\nconst MONTHS = Array.from({ length: MONTH_COUNT }, (_, i) => i + 1);\nconst CATEGORY_MAIN = \"main\";\nconst CATEGORY_EXTRA = \"extra\";\nconst DEFAULT_SCOPE = \"total\";\n\nconst JSON_HEADERS = {\n  \"content-type\": \"application/json; charset=utf-8\",\n  \"access-control-allow-origin\": \"*\",\n  \"access-control-allow-methods\": \"GET,POST,OPTIONS\",\n  \"access-control-allow-headers\": \"content-type\"\n};\n\nfunction jsonResponse(payload, status = 200) {\n  return new Response(JSON.stringify(payload), { status, headers: JSON_HEADERS });\n}\n\nfunction badRequest(message) {\n  return jsonResponse({ ok: false, error: message }, 400);\n}\n\nfunction toInt(value, fallback) {\n  const parsed = Number.parseInt(value, 10);\n  return Number.isFinite(parsed) ? parsed : fallback;\n}\n\nfunction normalizeText(value) {\n  if (value === null || value === undefined) return \"\";\n  return String(value).trim();\n}\n\nfunction normalizeNumber(value) {\n  if (value === null || value === undefined || value === \"\") return 0;\n  if (typeof value === \"number\" && Number.isFinite(value)) return value;\n  const cleaned = String(value).replace(\",\", \".\");\n  const parsed = Number.parseFloat(cleaned);\n  return Number.isFinite(parsed) ? parsed : 0;\n}\n\nfunction buildMonthArray(seed = 0) {\n  return MONTHS.map(() => seed);\n}\n\nfunction withCors(response) {\n  return response;\n}\n\nasync function handleOptions() {\n  return new Response(null, { status: 204, headers: JSON_HEADERS });\n}\n\nasync function handleGetStellenplan(request, env) {\n  const url = new URL(request.url);\n  const year = toInt(url.searchParams.get(\"year\"), new Date().getFullYear());\n  if (!Number.isFinite(year)) {\n    return badRequest(\"Invalid year.\");\n  }\n\n  const db = env.DB;\n\n  const qualifications = await db\n    .prepare(\"SELECT id, code, label FROM qualifications WHERE is_active=1 ORDER BY label ASC\")\n    .all();\n\n  const employees = await db\n    .prepare(\n      \"SELECT id, personal_number, name, category, extra_category, qualification_id \" +\n        \"FROM employees WHERE is_active=1 ORDER BY id ASC\"\n    )\n    .all();\n\n  const monthValues = await db\n    .prepare(\"SELECT employee_id, month, value FROM employee_month_values WHERE year=?\")\n    .bind(year)\n    .all();\n\n  const planTargets = await db\n    .prepare(\"SELECT month, value, scope FROM wirtschaftsplan_targets WHERE year=? AND scope=?\")\n    .bind(year, DEFAULT_SCOPE)\n    .all();\n\n  const valueMap = new Map();\n  for (const row of monthValues.results || []) {\n    if (!valueMap.has(row.employee_id)) {\n      valueMap.set(row.employee_id, buildMonthArray(0));\n    }\n    const months = valueMap.get(row.employee_id);\n    const index = Math.max(1, Math.min(MONTH_COUNT, Number(row.month))) - 1;\n    months[index] = normalizeNumber(row.value);\n  }\n\n  const mainRows = [];\n  const extraRows = [];\n\n  for (const row of employees.results || []) {\n    const months = valueMap.get(row.id) || buildMonthArray(0);\n    const payload = {\n      id: row.id,\n      personalNumber: normalizeText(row.personal_number),\n      name: normalizeText(row.name),\n      category: normalizeText(row.extra_category),\n      qualificationId: row.qualification_id || null,\n      months\n    };\n    if (row.category === CATEGORY_EXTRA) {\n      extraRows.push(payload);\n    } else {\n      mainRows.push(payload);\n    }\n  }\n\n  const planMonthValues = buildMonthArray(0);\n  for (const row of planTargets.results || []) {\n    const index = Math.max(1, Math.min(MONTH_COUNT, Number(row.month))) - 1;\n    planMonthValues[index] = normalizeNumber(row.value);\n  }\n\n  return jsonResponse({\n    ok: true,\n    year,\n    qualifications: qualifications.results || [],\n    employees: mainRows,\n    extras: extraRows,\n    planTargets: {\n      scope: DEFAULT_SCOPE,\n      months: planMonthValues\n    }\n  });\n}\n\nasync function resolveEmployeeId(db, row, category) {\n  const personalNumber = normalizeText(row.personalNumber);\n  const name = normalizeText(row.name);\n  const extraCategory = normalizeText(row.category);\n  const qualificationId = row.qualificationId ? Number(row.qualificationId) : null;\n\n  if (Number.isInteger(row.id)) {\n    await db\n      .prepare(\n        \"UPDATE employees SET personal_number=?, name=?, category=?, extra_category=?, qualification_id=?, updated_at=datetime('now') WHERE id=?\"\n      )\n      .bind(personalNumber, name || extraCategory || \"Unbenannt\", category, extraCategory || null, qualificationId, row.id)\n      .run();\n    return row.id;\n  }\n\n  const existing = await db\n    .prepare(\n      \"SELECT id FROM employees WHERE personal_number=? AND name=? AND category=? AND IFNULL(extra_category,'')=?\"\n    )\n    .bind(personalNumber, name || extraCategory || \"Unbenannt\", category, extraCategory || \"\")\n    .first();\n\n  if (existing && existing.id) {\n    await db\n      .prepare(\n        \"UPDATE employees SET qualification_id=?, updated_at=datetime('now') WHERE id=?\"\n      )\n      .bind(qualificationId, existing.id)\n      .run();\n    return existing.id;\n  }\n\n  const insert = await db\n    .prepare(\n      \"INSERT INTO employees (personal_number, name, category, extra_category, qualification_id) VALUES (?, ?, ?, ?, ?)\"\n    )\n    .bind(\n      personalNumber,\n      name || extraCategory || \"Unbenannt\",\n      category,\n      extraCategory || null,\n      qualificationId\n    )\n    .run();\n\n  return insert.meta.last_row_id;\n}\n\nasync function handlePostStellenplan(request, env) {\n  const payload = await request.json().catch(() => null);\n  if (!payload || typeof payload !== \"object\") {\n    return badRequest(\"Invalid payload.\");\n  }\n\n  const year = toInt(payload.year, new Date().getFullYear());\n  if (!Number.isFinite(year)) {\n    return badRequest(\"Invalid year.\");\n  }\n\n  const employees = Array.isArray(payload.employees) ? payload.employees : [];\n  const extras = Array.isArray(payload.extras) ? payload.extras : [];\n  const planTargets = payload.planTargets || null;\n\n  const db = env.DB;\n\n  // Upsert employees + month values\n  for (const row of employees) {\n    const employeeId = await resolveEmployeeId(db, row, CATEGORY_MAIN);\n    const months = Array.isArray(row.months) ? row.months : buildMonthArray(0);\n    for (const month of MONTHS) {\n      const value = normalizeNumber(months[month - 1] ?? 0);\n      await db\n        .prepare(\n          \"INSERT INTO employee_month_values (employee_id, year, month, value) VALUES (?, ?, ?, ?) \" +\n            \"ON CONFLICT(employee_id, year, month) DO UPDATE SET value=excluded.value, updated_at=datetime('now')\"\n        )\n        .bind(employeeId, year, month, value)\n        .run();\n    }\n  }\n\n  for (const row of extras) {\n    const employeeId = await resolveEmployeeId(db, row, CATEGORY_EXTRA);\n    const months = Array.isArray(row.months) ? row.months : buildMonthArray(0);\n    for (const month of MONTHS) {\n      const value = normalizeNumber(months[month - 1] ?? 0);\n      await db\n        .prepare(\n          \"INSERT INTO employee_month_values (employee_id, year, month, value) VALUES (?, ?, ?, ?) \" +\n            \"ON CONFLICT(employee_id, year, month) DO UPDATE SET value=excluded.value, updated_at=datetime('now')\"\n        )\n        .bind(employeeId, year, month, value)\n        .run();\n    }\n  }\n\n  if (planTargets && Array.isArray(planTargets.months)) {\n    for (const month of MONTHS) {\n      const value = normalizeNumber(planTargets.months[month - 1] ?? 0);\n      await db\n        .prepare(\n          \"INSERT INTO wirtschaftsplan_targets (year, month, value, scope) VALUES (?, ?, ?, ?) \" +\n            \"ON CONFLICT(year, month, scope) DO UPDATE SET value=excluded.value\"\n        )\n        .bind(year, month, value, DEFAULT_SCOPE)\n        .run();\n    }\n  }\n\n  return jsonResponse({ ok: true });\n}\n\nasync function handleGetSummary(request, env) {\n  const url = new URL(request.url);\n  const year = toInt(url.searchParams.get(\"year\"), new Date().getFullYear());\n  if (!Number.isFinite(year)) {\n    return badRequest(\"Invalid year.\");\n  }\n\n  const db = env.DB;\n\n  const mainRows = await db\n    .prepare(\n      \"SELECT month, SUM(value) AS total \" +\n        \"FROM employee_month_values v JOIN employees e ON e.id=v.employee_id \" +\n        \"WHERE v.year=? AND e.category=? GROUP BY month\"\n    )\n    .bind(year, CATEGORY_MAIN)\n    .all();\n\n  const extraRows = await db\n    .prepare(\n      \"SELECT month, SUM(value) AS total \" +\n        \"FROM employee_month_values v JOIN employees e ON e.id=v.employee_id \" +\n        \"WHERE v.year=? AND e.category=? GROUP BY month\"\n    )\n    .bind(year, CATEGORY_EXTRA)\n    .all();\n\n  const planRows = await db\n    .prepare(\n      \"SELECT month, value AS total FROM wirtschaftsplan_targets WHERE year=? AND scope=?\"\n    )\n    .bind(year, DEFAULT_SCOPE)\n    .all();\n\n  const mainMonths = buildMonthArray(0);\n  const extraMonths = buildMonthArray(0);\n  const planMonths = buildMonthArray(0);\n\n  for (const row of mainRows.results || []) {\n    mainMonths[row.month - 1] = normalizeNumber(row.total);\n  }\n  for (const row of extraRows.results || []) {\n    extraMonths[row.month - 1] = normalizeNumber(row.total);\n  }\n  for (const row of planRows.results || []) {\n    planMonths[row.month - 1] = normalizeNumber(row.total);\n  }\n\n  const combinedMonths = mainMonths.map((val, idx) => val + extraMonths[idx]);\n  const deviationMonths = combinedMonths.map((val, idx) => val - planMonths[idx]);\n\n  const sum = (arr) => arr.reduce((acc, val) => acc + normalizeNumber(val), 0);\n  const avg = (arr) => (arr.length ? sum(arr) / arr.length : 0);\n\n  return jsonResponse({\n    ok: true,\n    year,\n    main: { months: mainMonths, total: sum(mainMonths), average: avg(mainMonths) },\n    extras: { months: extraMonths, total: sum(extraMonths), average: avg(extraMonths) },\n    combined: { months: combinedMonths, total: sum(combinedMonths), average: avg(combinedMonths) },\n    plan: { months: planMonths, total: sum(planMonths), average: avg(planMonths) },\n    deviation: { months: deviationMonths, total: sum(deviationMonths), average: avg(deviationMonths) }\n  });\n}\n\nexport default {\n  async fetch(request, env) {\n    const url = new URL(request.url);\n\n    if (request.method === \"OPTIONS\") {\n      return handleOptions();\n    }\n\n    if (url.pathname === \"/api/stellenplan\" && request.method === \"GET\") {\n      return withCors(await handleGetStellenplan(request, env));\n    }\n\n    if (url.pathname === \"/api/stellenplan\" && request.method === \"POST\") {\n      return withCors(await handlePostStellenplan(request, env));\n    }\n\n    if (url.pathname === \"/api/stellenplan/summary\" && request.method === \"GET\") {\n      return withCors(await handleGetSummary(request, env));\n    }\n\n    return jsonResponse({ ok: false, error: \"Not found.\" }, 404);\n  }\n};\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"C:\\\\Users\\\\Maart\\\\OneDrive\\\\Clinicon_App_V200\\\\GFO\\\\worker\\\\index.js\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"C:\\\\Users\\\\Maart\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-ensure-req-body-drained.ts\";\n\n\t\t\t\texport * from \"C:\\\\Users\\\\Maart\\\\OneDrive\\\\Clinicon_App_V200\\\\GFO\\\\worker\\\\index.js\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"C:\\\\Users\\\\Maart\\\\OneDrive\\\\Clinicon_App_V200\\\\GFO\\\\.wrangler\\\\tmp\\\\bundle-RZ33OJ\\\\middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"C:\\\\Users\\\\Maart\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\common.ts\";\nimport type { WorkerEntrypointConstructor } from \"C:\\\\Users\\\\Maart\\\\OneDrive\\\\Clinicon_App_V200\\\\GFO\\\\.wrangler\\\\tmp\\\\bundle-RZ33OJ\\\\middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"C:\\\\Users\\\\Maart\\\\OneDrive\\\\Clinicon_App_V200\\\\GFO\\\\.wrangler\\\\tmp\\\\bundle-RZ33OJ\\\\middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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",
  "names": []
}
