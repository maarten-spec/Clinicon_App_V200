<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Clinicon - Erfassung</title>
  <style id="page-style">
.page-wrap{
      padding:28px;
      display:flex;
      flex-direction:column;
      gap:20px;
    }
    .hero{
      background:linear-gradient(120deg, rgba(28,107,255,0.14), rgba(23,195,178,0.18));
      border:1px solid rgba(28,107,255,0.2);
      border-radius:var(--radius-lg);
      padding:24px;
      display:grid;
      grid-template-columns:2fr 1fr;
      gap:20px;
      box-shadow:var(--shadow);
    }
    .hero h2{
      margin:0 0 10px;
      font-size:1.6rem;
      font-family:var(--font-display);
    }
    .hero p{margin:0; color:#1f2a44; max-width:560px;}
    .hero-cards{display:grid; gap:12px;}
    .hero-card{
      background:rgba(255,255,255,0.8);
      border:1px solid rgba(28,107,255,0.18);
      border-radius:var(--radius-md);
      padding:12px 14px;
    }
    .hero-card strong{
      display:block;
      font-size:1.25rem;
      font-family:var(--font-display);
    }
    .hero-card span{color:var(--muted); font-size:.85rem;}
    .pill-row{display:flex; flex-wrap:wrap; gap:8px; margin-top:12px;}
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 12px;
      border-radius:999px;
      font-size:.86rem;
      background:var(--surface-3);
      border:1px solid rgba(246,189,96,0.35);
      color:#9a5b1f;
      font-weight:600;
    }
    .pill.alt{
      background:var(--surface-2);
      border-color:var(--line);
      color:var(--ink);
    }
    .kpi-grid{display:grid; grid-template-columns:repeat(4, minmax(0,1fr)); gap:14px;}
    .kpi-card{
      background:var(--surface);
      border-radius:var(--radius-md);
      padding:16px;
      border:1px solid var(--line);
      box-shadow:var(--shadow-soft);
      position:relative;
      overflow:hidden;
    }
    .kpi-card::after{
      content:"";
      position:absolute;
      inset:auto -40% -50% auto;
      width:140px;
      height:140px;
      border-radius:50%;
      opacity:.12;
      background:var(--accent);
    }
    .kpi-card h4{margin:0; font-size:.9rem; color:var(--muted); font-weight:600; letter-spacing:.02em;}
    .kpi-value{font-size:1.8rem; font-family:var(--font-display); margin-top:6px;}
    .kpi-sub{margin-top:6px; font-size:.85rem; color:var(--muted);}
    .grid-two{display:grid; grid-template-columns:2fr 1fr; gap:14px;}
    .grid-three{display:grid; grid-template-columns:1.2fr 1fr 1fr; gap:14px;}
    .card{
      background:var(--surface);
      border-radius:var(--radius-md);
      padding:18px;
      border:1px solid var(--line);
      box-shadow:var(--shadow-soft);
    }
    .card h3{margin:0 0 12px; font-family:var(--font-display); font-size:1.1rem;}
    .card-header{display:flex; align-items:center; justify-content:space-between; gap:10px;}
    .card-sub{font-size:.82rem; color:var(--muted);}
    .list{display:grid; gap:8px; margin:0; padding:0; list-style:none; color:var(--muted);}
    .status-list{display:grid; gap:8px; margin-top:10px;}
    .status-item{display:flex; align-items:center; justify-content:space-between; font-size:.9rem; color:var(--muted);}
    .status-pill{padding:4px 10px; border-radius:999px; font-weight:700; font-size:.75rem;}
    .status-ok{background:rgba(47,191,113,0.15); color:#168a4a;}
    .status-warn{background:rgba(255,159,28,0.2); color:#b45309;}
    .status-bad{background:rgba(239,71,111,0.2); color:#b91c1c;}
    table{width:100%; border-collapse:collapse; font-size:.88rem;}
    thead th{
      text-align:left;
      padding:10px 8px;
      background:var(--surface-2);
      border-bottom:1px solid var(--line);
      color:#1d2a46;
    }
    tbody td{padding:10px 8px; border-bottom:1px solid var(--line);}
    tbody tr:hover{background:#f6f8ff;}
    .form-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:14px;}
    label{display:flex; flex-direction:column; gap:6px; font-weight:600; color:var(--ink);}
    input,select,textarea{
      padding:10px 12px;
      border:1px solid var(--line);
      border-radius:12px;
      font:inherit;
      background:#fff;
      color:var(--ink);
    }
    textarea{min-height:120px; resize:vertical;}
    .btn-row{display:flex; gap:10px; flex-wrap:wrap; margin-top:6px;}
    .btn{
      border:none;
      padding:10px 14px;
      border-radius:12px;
      font-weight:700;
      cursor:pointer;
      font-family:var(--font-base);
    }
    .btn.primary{background:linear-gradient(135deg, var(--accent-2), var(--accent-5)); color:#fff; box-shadow:0 12px 24px rgba(255,107,53,0.35);}
    .btn.secondary{background:#fff; border:1px solid var(--line); color:var(--ink);}
    @media (max-width: 1200px){
      .kpi-grid{grid-template-columns:repeat(2, minmax(0,1fr));}
      .grid-two{grid-template-columns:1fr;}
      .grid-three{grid-template-columns:1fr;}
      .hero{grid-template-columns:1fr;}
    }
    @media (max-width: 600px){
      .page-wrap{padding:20px;}
      .kpi-grid{grid-template-columns:1fr;}
    }
@media (max-width: 900px){

}
    @media (max-width: 600px){
}
@media (max-width: 900px){
}
  </style>
</head>
<body>
  <main class="page-fallback">
    <section class="card">
      <h1>Clinicon - Erfassung</h1>
      <p>Inhalt wird geladen. Falls die Seite leer bleibt, ist das Layout oder ein Skript blockiert.</p>
    </section>
  </main>

  <template id="page-content">
<section class=\"hero\">
      <div>
        <h2>Erfassung</h2>
        <p>Standardisierte Eingabe fuer Stationsdaten und PPUG-Checks. Das Layout folgt dem Clinicon-Insights Muster.</p>
        <div class=\"pill-row\">
          <span class=\"pill\">Modus: Erfassung</span>
          <span class=\"pill alt\">Quelle: Intern</span>
        </div>
      </div>
      <div class=\"hero-cards\">
        <div class=\"hero-card\">
          <strong>08:30</strong>
          <span>Letztes Update</span>
        </div>
        <div class=\"hero-card\">
          <strong>5</strong>
          <span>Offene Eintraege</span>
        </div>
        <div class=\"hero-card\">
          <strong>12</strong>
          <span>Stationsprofile</span>
        </div>
      </div>
    </section>
    <section class=\"card\">
      <div class=\"card-header\">
        <h3>Erfassungsformular</h3>
        <span class=\"card-sub\">Demo-Eingabe</span>
      </div>
      <div class=\"form-grid\" style=\"margin-top:12px;\">
        <label>Station
          <select>
            <option>ITS</option>
            <option>IMC</option>
            <option>Chirurgie</option>
          </select>
        </label>
        <label>Datum
          <input type=\"date\" />
        </label>
        <label>Belegte Betten
          <input type=\"number\" min=\"0\" placeholder=\"z. B. 24\" />
        </label>
        <label>PPUG Status
          <select>
            <option>OK</option>
            <option>Warnung</option>
            <option>Risiko</option>
          </select>
        </label>
        <label>Bemerkung
          <textarea placeholder=\"Hinweise fuer die Station...\"></textarea>
        </label>
      </div>
      <div class=\"btn-row\">
        <button class=\"btn primary\" type=\"button\">Speichern</button>
        <button class=\"btn secondary\" type=\"button\">Zuruecksetzen</button>
      </div>
    </section>
    <section class=\"card\">
      <div class=\"card-header\">
        <h3>Letzte Eingaben</h3>
        <span class=\"card-sub\">Demo</span>
      </div>
      <div class=\"status-list\">
        <div class=\"status-item\"><span>ITS</span><span class=\"status-pill status-ok\">OK</span></div>
        <div class=\"status-item\"><span>IMC</span><span class=\"status-pill status-warn\">Warnung</span></div>
        <div class=\"status-item\"><span>Chirurgie</span><span class=\"status-pill status-ok\">OK</span></div>
      </div>
    </section>
  </template>

  <script>
    const __pageContent = document.getElementById("page-content")?.innerHTML || "";
    const __pageStyle = document.getElementById("page-style")?.textContent || "";
    const __pageTitle = document.title || "";
    const __fallback = document.querySelector(".page-fallback");

    const mountLayout = (html) => {
      const parser = new DOMParser();
      const layoutDoc = parser.parseFromString(html, "text/html");
      const layoutHead = layoutDoc.head;
      const layoutBody = layoutDoc.body;

      document.head.querySelectorAll("[data-layout]").forEach((node) => node.remove());
      Array.from(layoutHead.children).forEach((node) => {
        if (node.tagName === "STYLE" || node.tagName === "LINK") {
          const clone = node.cloneNode(true);
          clone.setAttribute("data-layout", "true");
          document.head.appendChild(clone);
        }
      });

      document.body.innerHTML = layoutBody.innerHTML;

      Array.from(layoutBody.attributes).forEach((attr) => {
        document.body.setAttribute(attr.name, attr.value);
      });

      if (__pageStyle) {
        const style = document.createElement("style");
        style.setAttribute("data-page-style", "true");
        style.textContent = __pageStyle;
        document.head.appendChild(style);
      }

      if (__pageTitle) {
        document.title = __pageTitle;
        const headerTitle = document.querySelector(".topbar-left h1");
        if (headerTitle) {
          headerTitle.textContent = __pageTitle;
        }
      }

            const runScriptNodes = (nodes) => {
        const runScripts = (index) => {
          if (index >= nodes.length) return;
          const oldScript = nodes[index];
          const script = document.createElement("script");
          Array.from(oldScript.attributes).forEach((attr) => {
            script.setAttribute(attr.name, attr.value);
          });
          script.async = false;
          if (oldScript.textContent) {
            script.textContent = oldScript.textContent;
          }
          const next = () => runScripts(index + 1);
          if (script.src) {
            script.onload = next;
            script.onerror = next;
          }
          oldScript.replaceWith(script);
          if (!script.src) {
            next();
          }
        };
        runScripts(0);
      };

      const layoutScripts = Array.from(document.body.querySelectorAll("script"));
      if (layoutScripts.length) {
        runScriptNodes(layoutScripts);
      }

      const slot = document.getElementById("app-main") || document.querySelector("main");
      if (slot) {
        slot.innerHTML = __pageContent;
        const slotScripts = Array.from(slot.querySelectorAll("script"));
        if (slotScripts.length) {
          runScriptNodes(slotScripts);
        }
      }

      const current = (location.pathname.split("/").pop() || "").toLowerCase();
      document.querySelectorAll(".nav a[href]").forEach((a) => a.classList.remove("active"));
      document.querySelectorAll(".nav a[href]").forEach((a) => {
        const href = (a.getAttribute("href") || "").split("?")[0].split("#")[0].toLowerCase();
        if (href && href === current) {
          a.classList.add("active");
        }
      });
    };

    fetch("./layout.html?v=20260202")
      .then((r) => {
        if (!r.ok) {
          throw new Error(`Layout HTTP ${r.status}`);
        }
        return r.text();
      })
      .then(mountLayout)
      .catch((err) => {
        console.error("Layout load failed", err);
        if (__fallback) {
          __fallback.style.display = "block";
        }
      });
  </script>
</body>
</html>











